function activeMenu(t){$(t).attr("class","nav-item active")}var studentInput=$("#studentInput"),iconSection=$("#icon"),tableSection=$(".table-responsive"),scoresDiv=$("#scores");function searchScoresByStudentId(t){studentInput.prop("disabled",!0);var e=t.value,a=t.data,r=$("#getTranscriptApiUrl").prop("href")+e+","+$("#semester").val();$.ajax({url:r,type:"get",contentType:!1,dataType:"json",cache:!1,timeout:1e5,beforeSend:function(){"none"!=scoresDiv.css("display")&&scoresDiv.slideUp(400),scoresDiv.find("h4.header-title").text(e+" - "+a)},success:function(t){studentInput.prop("disabled",!1);var e=t.listScore,a="";$.each(e,function(t,e){a+=drawScoreRow(e)}),refreshTableScore(a),$("#termPointAverage").text(t.termPointAverage.toFixed(2)),scoresDiv.slideDown(400)},error:function(t){console.log(t)}})}function refreshTableScore(t){tableSection.html('<table id="main-table" class="table table-hover table-striped text-center" data-tablesaw-mode="columntoggle">\n<thead class="text-uppercase bg-deepblue">\n<tr>\n<th data-tablesaw-priority="4" scope="col">Mã MH</th>\n<th data-tablesaw-priority="persist" scope="col">Tên MH</th>\n<th data-tablesaw-priority="5" scope="col">Số TC</th>\n<th data-tablesaw-priority="5" scope="col">CC</th>\n<th data-tablesaw-priority="5" scope="col">KT</th>\n<th data-tablesaw-priority="5" scope="col">TN-TH</th>\n<th data-tablesaw-priority="5" scope="col">BTL</th>\n<th data-tablesaw-priority="1" scope="col">Thi</th>\n<th data-tablesaw-priority="5" scope="col">TK(10)</th>\n<th data-tablesaw-priority="1" scope="col">TK(CH)</th>\n<th data-tablesaw-priority="5" scope="col">Ghi chú</th>\n</tr>\n</thead>\n<tbody>\n</tbody>\n</table>'),$("#main-table tbody").html(t),$("#main-table").tablesaw().data("tablesaw").refresh()}function drawScoreRow(t){var e=null!=t.attendanceScore?t.attendanceScore:"",a=null!=t.midTermExamScore?t.midTermExamScore:"",r=null!=t.practiceScore?t.practiceScore:"",o=null!=t.assignmentScore?t.assignmentScore:"",n=null!=t.finalExamScore?t.finalExamScore:"";return'<tr>\n        <th data-tablesaw-priority="4" scope="row">'+t.subjectDTO.subjectId+'</th>\n        <td data-tablesaw-priority="persist">'+t.subjectDTO.name+'</td>\n        <td data-tablesaw-priority="5">'+t.subjectDTO.credit+'</td>\n        <td data-tablesaw-priority="4">'+e+'</td>\n        <td data-tablesaw-priority="4">'+a+'</td>\n        <td data-tablesaw-priority="4">'+r+'</td>\n        <td data-tablesaw-priority="4">'+o+'</td>\n        <td data-tablesaw-priority="1">'+n+'</td>\n        <td data-tablesaw-priority="5">'+t.mark+'</td>\n        <th data-tablesaw-priority="1" scope="row">'+t.letter+'</th>\n        <td data-tablesaw-priority="5">'+t.description+"</td>\n      </tr>"}var searchApiUrl=$("#searchApiUrl").prop("href");studentInput.autocomplete({serviceUrl:searchApiUrl,minChars:3,autoSelectFirst:!0,showNoSuggestionNotice:!0,triggerSelectOnValidInput:!1,noSuggestionNotice:"Không tìm thấy kết quả phù hợp",formatResult:function(t,e){return'<span class="badge badge-info mr-2">'+t.value+"</span> "+t.data},onSearchStart:function(){iconSection.html('<i class="loader"></i>')},onSearchComplete:function(){iconSection.html('<ti class="fa fa-search"></ti>')},onSelect:function(t){searchScoresByStudentId(t)}});